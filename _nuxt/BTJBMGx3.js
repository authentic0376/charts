const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D5_ZSuyf.js","./BtJWWB7g.js","./CB8QFJfg.js"])))=>i.map(i=>d[i]);
import{k as i,I as R,J as I,K as P,f as w,L as E,m as F,M as X,N as O,c as V,O as C,o as b,P as k,_ as q}from"./CB8QFJfg.js";const M=800,H=300,A=.5,p=2*A,v=6,L=1/100,S=.1,y=5.1,W=.8,Y=.4,B=.2,Q=30,$=20,j=7,x=r=>{if(r===0)return 1;const a=Math.PI*r;return Math.sin(a)/a};function G(){const r=i(M/2),a=i(M),e=R({timeVector:[],originalSignal:[],sampledTimePoints:[],sampledValues:[],reconstructedSignal:[],samplingFrequency:p,nyquistFrequency:p,isAliasing:!1}),u=()=>{const t=Math.max(0,Math.min(a.value,r.value))/a.value,s=S+t*(y-S);return Math.max(S,Math.min(y,s))},m=()=>{const t=[],s=[];for(let n=0;n<=v;n+=L)t.push(n),s.push(Math.sin(2*Math.PI*A*n));e.timeVector=t,e.originalSignal=s,console.log("Nyquist Frequency:",p,"Hz")},_=()=>{const t=e.samplingFrequency;if(t<=0){e.sampledTimePoints=[],e.sampledValues=[],e.reconstructedSignal=new Array(e.timeVector.length).fill(0),e.isAliasing=t<p;return}const s=1/t,n=[],o=[];for(let c=0;c<=v+s/2&&!(c>v&&n.length>0&&n[n.length-1]>=v);c+=s){const h=Math.min(c,v);if(!(n.length>0&&Math.abs(h-n[n.length-1])<1e-9)&&(n.push(h),o.push(Math.sin(2*Math.PI*A*h)),n.length>1e3))break}e.sampledTimePoints=n,e.sampledValues=o;const l=new Array(e.timeVector.length).fill(0);if(n.length>0)for(let c=0;c<n.length;c++){const h=n[c],T=o[c];for(let g=0;g<e.timeVector.length;g++){const N=e.timeVector[g];l[g]+=T*x(t*(N-h))}}e.reconstructedSignal=l,e.isAliasing=t<p};I(r,()=>{e.samplingFrequency=u()},{immediate:!0}),I(()=>e.samplingFrequency,()=>{_()},{immediate:!0}),m();const d=t=>{r.value=t},f=t=>{a.value=t,e.samplingFrequency=u()};return{state:P(e),setMouseX:d,setCanvasWidth:f}}const z=w({__name:"shannon_sampling_theorem",setup(r){const a=i(null),e=E(null),u=i(!1),m=i(M),_=i(H),d=G();F(async()=>{if(typeof window<"u"&&a.value)try{const{P5ShannonRenderer:n}=await X(async()=>{const{P5ShannonRenderer:l}=await import("./D5_ZSuyf.js");return{P5ShannonRenderer:l}},__vite__mapDeps([0,1,2]),import.meta.url),o=new n;await o.setup(a.value,m.value,_.value),e.value=o,s()}catch(n){console.error("Failed to load or setup P5ShannonRenderer:",n)}else console.error("Cannot setup renderer: Not in browser environment or canvas container not found.")}),O(()=>{e.value&&(e.value.destroy(),e.value=null)}),I(()=>d.state,async()=>{await k(),s()},{deep:!0});const f=n=>{if(a.value){u.value=!0;const o=a.value.getBoundingClientRect(),l=n.clientX-o.left;d.setMouseX(l)}},t=()=>{u.value=!1},s=()=>{if(e.value){const n={...d.state,canvasWidth:m.value,canvasHeight:_.value};e.value.draw(n)}};return(n,o)=>(b(),V("div",{ref_key:"canvasContainerRef",ref:a,class:"shannon-canvas-container",style:C({width:`${m.value}px`,height:`${_.value}px`,cursor:"ew-resize",margin:"auto"}),onMousemove:f,onMouseleave:t},null,36))}}),D=q(z,[["__scopeId","data-v-fb27671c"]]),K=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{Q as A,M as S,v as T,H as a,$ as b,B as c,W as d,Y as e,j as f,K as s};
